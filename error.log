{"service":"user-service","name":"MongoNetworkError","errorLabels":["TransientTransactionError"],"level":"error","message":"Error connecting to MongoDB ...failed to connect to server [localhost:27017] on first connect [MongoNetworkError: connect ECONNREFUSED 127.0.0.1:27017]","stack":"MongoNetworkError: failed to connect to server [localhost:27017] on first connect [MongoNetworkError: connect ECONNREFUSED 127.0.0.1:27017]\n    at Pool.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/topologies/server.js:564:11)\n    at Pool.emit (events.js:182:13)\n    at Connection.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/connection/pool.js:317:12)\n    at Object.onceWrapper (events.js:273:13)\n    at Connection.emit (events.js:182:13)\n    at Socket.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/connection/connection.js:246:50)\n    at Object.onceWrapper (events.js:273:13)\n    at Socket.emit (events.js:182:13)\n    at emitErrorNT (internal/streams/destroy.js:82:8)\n    at emitErrorAndCloseNT (internal/streams/destroy.js:50:3)\n    at process._tickCallback (internal/process/next_tick.js:63:19)"}
{"service":"user-service","name":"MongoNetworkError","errorLabels":["TransientTransactionError"],"level":"error","message":"Error connecting to MongoDB ...failed to connect to server [localhost:27017] on first connect [MongoNetworkError: connect ECONNREFUSED 127.0.0.1:27017]","stack":"MongoNetworkError: failed to connect to server [localhost:27017] on first connect [MongoNetworkError: connect ECONNREFUSED 127.0.0.1:27017]\n    at Pool.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/topologies/server.js:564:11)\n    at Pool.emit (events.js:182:13)\n    at Connection.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/connection/pool.js:317:12)\n    at Object.onceWrapper (events.js:273:13)\n    at Connection.emit (events.js:182:13)\n    at Socket.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/connection/connection.js:246:50)\n    at Object.onceWrapper (events.js:273:13)\n    at Socket.emit (events.js:182:13)\n    at emitErrorNT (internal/streams/destroy.js:82:8)\n    at emitErrorAndCloseNT (internal/streams/destroy.js:50:3)\n    at process._tickCallback (internal/process/next_tick.js:63:19)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"Could not find an ingredient with id 5ca263478eed97041aa2401a","level":"error","message":"Error: Could not find an ingredient with id 5ca263478eed97041aa2401a","stack":"Error: Could not find an ingredient with id 5ca263478eed97041aa2401a\n    at validateId (/Users/myra/Documents/Code/mad9124/1final/routes/ingredients.js:85:9)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"Could not find an ingredient with id 5ca263478eed97041aa240","level":"error","message":"Error: Could not find an ingredient with id 5ca263478eed97041aa240","stack":"Error: Could not find an ingredient with id 5ca263478eed97041aa240\n    at validateId (/Users/myra/Documents/Code/mad9124/1final/routes/ingredients.js:85:9)\n    at router.get (/Users/myra/Documents/Code/mad9124/1final/routes/ingredients.js:30:11)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:317:13)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:284:7"}
{"service":"user-service","level":"error","message":"Error: assert is not defined","stack":"ReferenceError: assert is not defined\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:37:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:22:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:47:12)"}
{"service":"user-service","generatedMessage":true,"name":"AssertionError [ERR_ASSERTION]","code":"ERR_ASSERTION","actual":"Path `address` is required.","expected":"Address is required","operator":"==","level":"error","message":"Error: 'Path `address` is required.' == 'Address is required'","stack":"AssertionError [ERR_ASSERTION]: 'Path `address` is required.' == 'Address is required'\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:38:12)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:22:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:47:12)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"We could not find an order with id: undefined","level":"error","message":"Error: We could not find an order with id: undefined","stack":"Error: We could not find an order with id: undefined\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:38:48)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:22:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:47:12)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"We could not  undefined","level":"error","message":"Error: We could not  undefined","stack":"Error: We could not  undefined\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:38:48)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:22:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:47:12)"}
{"service":"user-service","level":"error","message":"Error: Cannot read property 'errors' of null","stack":"TypeError: Cannot read property 'errors' of null\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:38:15)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:22:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:47:12)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"Address is required","level":"error","message":"Error: Address is required","stack":"Error: Address is required\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:40:50)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:22:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:47:12)"}
{"service":"user-service","status":"Required","code":"404","title":"Field is required","description":"Address is required","level":"error","message":"Error: Address is required","stack":"Error: Address is required\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:41:50)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:22:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:47:12)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"Could not find a Customer with id undefined","level":"error","message":"Error: Could not find a Customer with id undefined","stack":"Error: Could not find a Customer with id undefined\n    at validateCustomer (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:142:9)\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:31:13)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:22:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:174:3)"}
{"service":"user-service","level":"error","message":"Error: Cannot read property 'message' of undefined","stack":"TypeError: Cannot read property 'message' of undefined\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:33:35)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:22:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:47:12)"}
{"service":"user-service","level":"error","message":"Error: Cannot read property 'message' of undefined","stack":"TypeError: Cannot read property 'message' of undefined\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:33:35)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"Could not find a Customer with id undefined","level":"error","message":"Error: Could not find a Customer with id undefined","stack":"Error: Could not find a Customer with id undefined\n    at validateCustomer (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:142:9)\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:39:13)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","level":"error","message":"Error: Cannot read property 'message' of undefined","stack":"TypeError: Cannot read property 'message' of undefined\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:33:35)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","level":"error","message":"Error: Cannot read property 'message' of undefined","stack":"TypeError: Cannot read property 'message' of undefined\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:33:35)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:22:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:47:12)"}
{"service":"user-service","level":"error","message":"Error: newOrder.save is not a function","stack":"TypeError: newOrder.save is not a function\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:46:14)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:22:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:47:12)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"Could not find a Customer with id undefined","level":"error","message":"Error: Could not find a Customer with id undefined","stack":"Error: Could not find a Customer with id undefined\n    at validateCustomer (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:141:9)\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:31:13)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"Could not find a Customer with id undefined","level":"error","message":"Error: Could not find a Customer with id undefined","stack":"Error: Could not find a Customer with id undefined\n    at validateCustomer (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:141:9)\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:31:13)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","expose":true,"statusCode":400,"status":400,"body":"\n    {\n\"type\": \"delivery\",\n  \"status\": \"ordered\"  ,\n  \"pizzas\": [\"5cad06f1201af9e9188c7d4b\", \"5cad0659201af9e9188c7d49\"],\n  \"address\": \"Deerfield\",\n\"customer\": \"5ca37b4e130dc8823e9676fa\"\n\t\"price\": \"10000\"\n  }","type":"entity.parse.failed","level":"error","message":"Error: Unexpected string in JSON at position 188","stack":"SyntaxError: Unexpected string in JSON at position 188\n    at JSON.parse (<anonymous>)\n    at parse (/Users/myra/Documents/Code/mad9124/1final/node_modules/body-parser/lib/types/json.js:89:19)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/body-parser/lib/read.js:121:18\n    at invokeCallback (/Users/myra/Documents/Code/mad9124/1final/node_modules/raw-body/index.js:224:16)\n    at done (/Users/myra/Documents/Code/mad9124/1final/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/myra/Documents/Code/mad9124/1final/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:182:13)\n    at endReadableNT (_stream_readable.js:1094:12)\n    at process._tickCallback (internal/process/next_tick.js:63:19)"}
{"service":"user-service","level":"error","message":"Error: Cannot read property 'errors' of undefined","stack":"TypeError: Cannot read property 'errors' of undefined\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:39:17)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","status":"Required","code":"404","title":"Field is required","description":"Address is required","level":"error","message":"Error: Address is required","stack":"Error: Address is required\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:39:50)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","level":"error","message":"Error: Cannot read property 'message' of undefined","stack":"TypeError: Cannot read property 'message' of undefined\n    at router.post (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:39:35)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","errors":{"address":{"message":"Path `address` is required.","name":"ValidatorError","properties":{"message":"Path `address` is required.","type":"required","path":"address"},"kind":"required","path":"address"}},"_message":"Order validation failed","message":"Error: Order validation failed: address: Path `address` is required.","name":"ValidationError","level":"error","stack":"ValidationError: Order validation failed: address: Path `address` is required.\n    at new ValidationError (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/error/validation.js:30:11)\n    at model.Document.invalidate (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:2095:32)\n    at p.doValidate.skipSchemaValidators (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:1958:17)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/schematype.js:933:9\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"service":"user-service","errors":{"address":{"message":"Path `address` is required.","name":"ValidatorError","properties":{"message":"Path `address` is required.","type":"required","path":"address"},"kind":"required","path":"address"}},"_message":"Order validation failed","message":"Error: Order validation failed: address: Path `address` is required.","name":"ValidationError","level":"error","stack":"ValidationError: Order validation failed: address: Path `address` is required.\n    at new ValidationError (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/error/validation.js:30:11)\n    at model.Document.invalidate (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:2095:32)\n    at p.doValidate.skipSchemaValidators (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:1958:17)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/schematype.js:933:9\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"service":"user-service","errors":{"customer":{"message":"Path `customer` is required.","name":"ValidatorError","properties":{"message":"Path `customer` is required.","type":"required","path":"customer"},"kind":"required","path":"customer"}},"_message":"Order validation failed","message":"Error: Order validation failed: customer: Path `customer` is required.","name":"ValidationError","level":"error","stack":"ValidationError: Order validation failed: customer: Path `customer` is required.\n    at new ValidationError (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/error/validation.js:30:11)\n    at model.Document.invalidate (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:2095:32)\n    at p.doValidate.skipSchemaValidators (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:1958:17)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/schematype.js:933:9\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"service":"user-service","errors":{"customer":{"message":"Path `customer` is required.","name":"ValidatorError","properties":{"message":"Path `customer` is required.","type":"required","path":"customer"},"kind":"required","path":"customer"}},"_message":"Order validation failed","message":"Error: Order validation failed: customer: Path `customer` is required.","name":"ValidationError","level":"error","stack":"ValidationError: Order validation failed: customer: Path `customer` is required.\n    at new ValidationError (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/error/validation.js:30:11)\n    at model.Document.invalidate (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:2095:32)\n    at p.doValidate.skipSchemaValidators (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:1958:17)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/schematype.js:933:9\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"service":"user-service","errors":{"address":{"message":"Path `address` is required.","name":"ValidatorError","properties":{"message":"Path `address` is required.","type":"required","path":"address"},"kind":"required","path":"address"},"customer":{"message":"Path `customer` is required.","name":"ValidatorError","properties":{"message":"Path `customer` is required.","type":"required","path":"customer"},"kind":"required","path":"customer"}},"_message":"Order validation failed","message":"Error: Order validation failed: address: Path `address` is required., customer: Path `customer` is required.","name":"ValidationError","level":"error","stack":"ValidationError: Order validation failed: address: Path `address` is required., customer: Path `customer` is required.\n    at new ValidationError (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/error/validation.js:30:11)\n    at model.Document.invalidate (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:2095:32)\n    at p.doValidate.skipSchemaValidators (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:1958:17)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/schematype.js:933:9\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"service":"user-service","errors":{"address":{"message":"Path `address` is required.","name":"ValidatorError","properties":{"message":"Path `address` is required.","type":"required","path":"address"},"kind":"required","path":"address"},"customer":{"message":"Path `customer` is required.","name":"ValidatorError","properties":{"message":"Path `customer` is required.","type":"required","path":"customer"},"kind":"required","path":"customer"}},"_message":"Order validation failed","message":"Error: Order validation failed: address: Path `address` is required., customer: Path `customer` is required.","name":"ValidationError","level":"error","stack":"ValidationError: Order validation failed: address: Path `address` is required., customer: Path `customer` is required.\n    at new ValidationError (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/error/validation.js:30:11)\n    at model.Document.invalidate (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:2095:32)\n    at p.doValidate.skipSchemaValidators (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:1958:17)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/schematype.js:933:9\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"Could not find a pizza with id 5ca26053172dfa03f9ddc781","level":"error","message":"Error: Could not find a pizza with id 5ca26053172dfa03f9ddc781","stack":"Error: Could not find a pizza with id 5ca26053172dfa03f9ddc781\n    at validateId (/Users/myra/Documents/Code/mad9124/1final/routes/pizzas.js:143:9)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"Could not find an order with id 5cad06f1201af9e9188c7d4b","level":"error","message":"Error: Could not find an order with id 5cad06f1201af9e9188c7d4b","stack":"Error: Could not find an order with id 5cad06f1201af9e9188c7d4b\n    at validateId (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:105:9)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","level":"error","message":"Error: next is not defined","stack":"ReferenceError: next is not defined\n    at model.Query.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/models/Order.js:61:3)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","level":"error","message":"Error: next is not defined","stack":"ReferenceError: next is not defined\n    at model.Query.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/models/Order.js:61:3)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","expose":true,"statusCode":400,"status":400,"body":"\n    {\n\"type\": \"pickup\",\n        \n  }","type":"entity.parse.failed","level":"error","message":"Error: Unexpected token } in JSON at position 36","stack":"SyntaxError: Unexpected token } in JSON at position 36\n    at JSON.parse (<anonymous>)\n    at parse (/Users/myra/Documents/Code/mad9124/1final/node_modules/body-parser/lib/types/json.js:89:19)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/body-parser/lib/read.js:121:18\n    at invokeCallback (/Users/myra/Documents/Code/mad9124/1final/node_modules/raw-body/index.js:224:16)\n    at done (/Users/myra/Documents/Code/mad9124/1final/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/myra/Documents/Code/mad9124/1final/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:182:13)\n    at endReadableNT (_stream_readable.js:1094:12)\n    at process._tickCallback (internal/process/next_tick.js:63:19)"}
{"service":"user-service","level":"error","message":"Error: Cannot read property 'save' of null","stack":"TypeError: Cannot read property 'save' of null\n    at model.Query.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/models/Order.js:60:13)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/kareem/index.js:198:31)\n    at Kareem.execPost (/Users/myra/Documents/Code/mad9124/1final/node_modules/kareem/index.js:217:3)\n    at _cb (/Users/myra/Documents/Code/mad9124/1final/node_modules/kareem/index.js:307:15)\n    at model.Query.Query._completeOne (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/query.js:1939:12)\n    at cb (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/query.js:3292:11)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/query.js:3369:16\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/query.js:4105:12\n    at result (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb/lib/utils.js:414:17)\n    at session.endSession (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb/lib/utils.js:401:11)\n    at ClientSession.endSession (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/sessions.js:129:41)\n    at executeCallback (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb/lib/utils.js:397:17)\n    at handleCallback (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb/lib/utils.js:128:55)\n    at executeCommand (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb/lib/operations/collection_ops.js:558:12)\n    at handleCallback (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb/lib/utils.js:128:55)\n    at db.s.topology.command (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb/lib/operations/db_ops.js:516:5)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"Could not find an order with id 5ca6f53571c91608ab0d84","level":"error","message":"Error: Could not find an order with id 5ca6f53571c91608ab0d84","stack":"Error: Could not find an order with id 5ca6f53571c91608ab0d84\n    at validateId (/Users/myra/Documents/Code/mad9124/1final/routes/orders.js:107:9)\n    at /Users/myra/Documents/Code/mad9124/1final/routes/orders.js:57:11\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:22:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:410:3)"}
{"service":"user-service","level":"error","message":"Error: Cannot read property 'save' of null","stack":"TypeError: Cannot read property 'save' of null\n    at model.Query.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/models/Order.js:60:13)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/kareem/index.js:198:31)\n    at Kareem.execPost (/Users/myra/Documents/Code/mad9124/1final/node_modules/kareem/index.js:217:3)\n    at _cb (/Users/myra/Documents/Code/mad9124/1final/node_modules/kareem/index.js:307:15)\n    at model.Query.Query._completeOne (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/query.js:1939:12)\n    at cb (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/query.js:3292:11)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/query.js:3369:16\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/query.js:4105:12\n    at result (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb/lib/utils.js:414:17)\n    at session.endSession (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb/lib/utils.js:401:11)\n    at ClientSession.endSession (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/sessions.js:129:41)\n    at executeCallback (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb/lib/utils.js:397:17)\n    at handleCallback (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb/lib/utils.js:128:55)\n    at executeCommand (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb/lib/operations/collection_ops.js:558:12)\n    at handleCallback (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb/lib/utils.js:128:55)\n    at db.s.topology.command (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb/lib/operations/db_ops.js:516:5)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"We could not find an order with id: 5ca6f53571c91608ab0d8465","level":"error","message":"Error: We could not find an order with id: 5ca6f53571c91608ab0d8465","stack":"Error: We could not find an order with id: 5ca6f53571c91608ab0d8465\n    at /Users/myra/Documents/Code/mad9124/1final/routes/orders.js:70:23\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"We could not find an order with id: 5ca6f53571c91608ab0d8465","level":"error","message":"Error: We could not find an order with id: 5ca6f53571c91608ab0d8465","stack":"Error: We could not find an order with id: 5ca6f53571c91608ab0d8465\n    at /Users/myra/Documents/Code/mad9124/1final/routes/orders.js:70:23\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","name":"MongoNetworkError","errorLabels":["TransientTransactionError"],"level":"error","message":"Error connecting to MongoDB ...failed to connect to server [db.myapp.io:27017] on first connect [MongoNetworkError: getaddrinfo ENOTFOUND db.myapp.io db.myapp.io:27017]","stack":"MongoNetworkError: failed to connect to server [db.myapp.io:27017] on first connect [MongoNetworkError: getaddrinfo ENOTFOUND db.myapp.io db.myapp.io:27017]\n    at Pool.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/topologies/server.js:564:11)\n    at Pool.emit (events.js:182:13)\n    at Connection.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/connection/pool.js:317:12)\n    at Object.onceWrapper (events.js:273:13)\n    at Connection.emit (events.js:182:13)\n    at Socket.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/connection/connection.js:246:50)\n    at Object.onceWrapper (events.js:273:13)\n    at Socket.emit (events.js:182:13)\n    at emitErrorNT (internal/streams/destroy.js:82:8)\n    at emitErrorAndCloseNT (internal/streams/destroy.js:50:3)\n    at process._tickCallback (internal/process/next_tick.js:63:19)"}
{"service":"user-service","name":"MongoNetworkError","errorLabels":["TransientTransactionError"],"level":"error","message":"Error connecting to MongoDB ...failed to connect to server [db.myapp.io:27017] on first connect [MongoNetworkError: getaddrinfo ENOTFOUND db.myapp.io db.myapp.io:27017]","stack":"MongoNetworkError: failed to connect to server [db.myapp.io:27017] on first connect [MongoNetworkError: getaddrinfo ENOTFOUND db.myapp.io db.myapp.io:27017]\n    at Pool.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/topologies/server.js:564:11)\n    at Pool.emit (events.js:182:13)\n    at Connection.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/connection/pool.js:317:12)\n    at Object.onceWrapper (events.js:273:13)\n    at Connection.emit (events.js:182:13)\n    at Socket.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/connection/connection.js:246:50)\n    at Object.onceWrapper (events.js:273:13)\n    at Socket.emit (events.js:182:13)\n    at emitErrorNT (internal/streams/destroy.js:82:8)\n    at emitErrorAndCloseNT (internal/streams/destroy.js:50:3)\n    at process._tickCallback (internal/process/next_tick.js:63:19)"}
{"service":"user-service","name":"MongoNetworkError","errorLabels":["TransientTransactionError"],"level":"error","message":"Error connecting to MongoDB ...failed to connect to server [db.myapp.io:27017] on first connect [MongoNetworkError: getaddrinfo ENOTFOUND db.myapp.io db.myapp.io:27017]","stack":"MongoNetworkError: failed to connect to server [db.myapp.io:27017] on first connect [MongoNetworkError: getaddrinfo ENOTFOUND db.myapp.io db.myapp.io:27017]\n    at Pool.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/topologies/server.js:564:11)\n    at Pool.emit (events.js:182:13)\n    at Connection.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/connection/pool.js:317:12)\n    at Object.onceWrapper (events.js:273:13)\n    at Connection.emit (events.js:182:13)\n    at Socket.<anonymous> (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongodb-core/lib/connection/connection.js:246:50)\n    at Object.onceWrapper (events.js:273:13)\n    at Socket.emit (events.js:182:13)\n    at emitErrorNT (internal/streams/destroy.js:82:8)\n    at emitErrorAndCloseNT (internal/streams/destroy.js:50:3)\n    at process._tickCallback (internal/process/next_tick.js:63:19)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"We could not find an order with id: 5ca6f53571c91608ab0d8465","level":"error","message":"Error: We could not find an order with id: 5ca6f53571c91608ab0d8465","stack":"Error: We could not find an order with id: 5ca6f53571c91608ab0d8465\n    at /Users/myra/Documents/Code/mad9124/1final/routes/orders.js:70:23\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"We could not find an order with id: 5ca6f53571c91608ab0d8465","level":"error","message":"Error: We could not find an order with id: 5ca6f53571c91608ab0d8465","stack":"Error: We could not find an order with id: 5ca6f53571c91608ab0d8465\n    at /Users/myra/Documents/Code/mad9124/1final/routes/orders.js:70:23\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"We could not find your order with id: 5ca6f53571c91608ab0d8465","level":"error","message":"Error: We could not find your order with id: 5ca6f53571c91608ab0d8465","stack":"Error: We could not find your order with id: 5ca6f53571c91608ab0d8465\n    at /Users/myra/Documents/Code/mad9124/1final/routes/orders.js:70:23\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","level":"error","message":"Error: mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at validateId (/Users/myra/Documents/Code/mad9124/1final/routes/auth/index.js:82:3)\n    at router.patch (/Users/myra/Documents/Code/mad9124/1final/routes/auth/index.js:59:11)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/isStaff.js:5:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:22:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22"}
{"service":"user-service","errors":{"email":{"message":"The email address 'hoho0004@algonquinlive.com' is already registerd.","name":"ValidatorError","properties":{"message":"The email address 'hoho0004@algonquinlive.com' is already registerd.","type":"unique","path":"email","value":"hoho0004@algonquinlive.com"},"kind":"unique","path":"email","value":"hoho0004@algonquinlive.com"}},"_message":"User validation failed","message":"Error: User validation failed: email: The email address 'hoho0004@algonquinlive.com' is already registerd.","name":"ValidationError","level":"error","stack":"ValidationError: User validation failed: email: The email address 'hoho0004@algonquinlive.com' is already registerd.\n    at new ValidationError (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/error/validation.js:30:11)\n    at model.Document.invalidate (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:2095:32)\n    at p.doValidate.skipSchemaValidators (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:1958:17)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/schematype.js:933:9\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"service":"user-service","level":"error","message":"Error: ResourceNotFoundError is not defined","stack":"ReferenceError: ResourceNotFoundError is not defined\n    at validateId (/Users/myra/Documents/Code/mad9124/1final/routes/auth/index.js:89:3)\n    at router.patch (/Users/myra/Documents/Code/mad9124/1final/routes/auth/index.js:61:11)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/isStaff.js:5:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:35:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"Could not find an user with id 5cb8c8faad8258d1448d399a","level":"error","message":"Error: Could not find an user with id 5cb8c8faad8258d1448d399a","stack":"Error: Could not find an user with id 5cb8c8faad8258d1448d399a\n    at validateId (/Users/myra/Documents/Code/mad9124/1final/routes/auth/index.js:81:9)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}
{"service":"user-service","status":"Not found","code":"404","title":"Resource does not exist","description":"Could not find an user with id 5cb8c8faad8258d1448d399","level":"error","message":"Error: Could not find an user with id 5cb8c8faad8258d1448d399","stack":"Error: Could not find an user with id 5cb8c8faad8258d1448d399\n    at validateId (/Users/myra/Documents/Code/mad9124/1final/routes/auth/index.js:81:9)\n    at router.patch (/Users/myra/Documents/Code/mad9124/1final/routes/auth/index.js:62:11)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/sanitizeBody.js:33:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/isStaff.js:5:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at module.exports (/Users/myra/Documents/Code/mad9124/1final/middleware/auth.js:35:5)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/express/lib/router/index.js:281:22"}
{"service":"user-service","errors":{"email":{"message":"The email address 'hoho@abd.com' is already registerd.","name":"ValidatorError","properties":{"message":"The email address 'hoho@abd.com' is already registerd.","type":"unique","path":"email","value":"hoho@abd.com"},"kind":"unique","path":"email","value":"hoho@abd.com"}},"_message":"User validation failed","message":"Error: User validation failed: email: The email address 'hoho@abd.com' is already registerd.","name":"ValidationError","level":"error","stack":"ValidationError: User validation failed: email: The email address 'hoho@abd.com' is already registerd.\n    at new ValidationError (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/error/validation.js:30:11)\n    at model.Document.invalidate (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:2095:32)\n    at p.doValidate.skipSchemaValidators (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:1958:17)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/schematype.js:933:9\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"service":"user-service","errors":{"email":{"message":"The email address 'hohoanglien@gmail.com' is already registerd.","name":"ValidatorError","properties":{"message":"The email address 'hohoanglien@gmail.com' is already registerd.","type":"unique","path":"email","value":"hohoanglien@gmail.com"},"kind":"unique","path":"email","value":"hohoanglien@gmail.com"}},"_message":"User validation failed","message":"Error: User validation failed: email: The email address 'hohoanglien@gmail.com' is already registerd.","name":"ValidationError","level":"error","stack":"ValidationError: User validation failed: email: The email address 'hohoanglien@gmail.com' is already registerd.\n    at new ValidationError (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/error/validation.js:30:11)\n    at model.Document.invalidate (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:2095:32)\n    at p.doValidate.skipSchemaValidators (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:1958:17)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/schematype.js:933:9\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"service":"user-service","errors":{"email":{"message":"The email address 'hohoanglien@gmail.com' is already registerd.","name":"ValidatorError","properties":{"message":"The email address 'hohoanglien@gmail.com' is already registerd.","type":"unique","path":"email","value":"hohoanglien@gmail.com"},"kind":"unique","path":"email","value":"hohoanglien@gmail.com"}},"_message":"User validation failed","message":"Error: User validation failed: email: The email address 'hohoanglien@gmail.com' is already registerd.","name":"ValidationError","level":"error","stack":"ValidationError: User validation failed: email: The email address 'hohoanglien@gmail.com' is already registerd.\n    at new ValidationError (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/error/validation.js:30:11)\n    at model.Document.invalidate (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:2095:32)\n    at p.doValidate.skipSchemaValidators (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:1958:17)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/schematype.js:933:9\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"service":"user-service","errors":{"email":{"message":"The email address 'hoho0005@algonquinlive.com' is already registerd.","name":"ValidatorError","properties":{"message":"The email address 'hoho0005@algonquinlive.com' is already registerd.","type":"unique","path":"email","value":"hoho0005@algonquinlive.com"},"kind":"unique","path":"email","value":"hoho0005@algonquinlive.com"}},"_message":"User validation failed","message":"Error: User validation failed: email: The email address 'hoho0005@algonquinlive.com' is already registerd.","name":"ValidationError","level":"error","stack":"ValidationError: User validation failed: email: The email address 'hoho0005@algonquinlive.com' is already registerd.\n    at new ValidationError (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/error/validation.js:30:11)\n    at model.Document.invalidate (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:2095:32)\n    at p.doValidate.skipSchemaValidators (/Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/document.js:1958:17)\n    at /Users/myra/Documents/Code/mad9124/1final/node_modules/mongoose/lib/schematype.js:933:9\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
